<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Formation Arduino : Part 1</title><meta name="generator" content="Hovercraft! 1.0 http://regebro.github.com/hovercraft"></meta><link rel="stylesheet" href="css/hovercraft.css" media="all"></link><link rel="stylesheet" href="css/impressConsole.css" media="all"></link><link rel="stylesheet" href="css/highlight.css" media="all"></link><link rel="stylesheet" href="css/style.css" media="screen,projection"></link></head><body class="impress-not-supported"><div id="impress" data-transition-duration="1000"><div class="step" step="0" data-x="0" data-y="0"><h1 id="formation-arduino">Formation Arduino</h1><h2 id="partie-1-bases">Partie 1 : Bases !</h2></div><div class="step" step="1" id="sect_structure" data-x="1600" data-y="0"><h1 id="structure-d-un-programme">Structure d'un programme</h1><p>Depuis la version 1 : programmes en <tt>.pde</tt></p></div><div class="step" step="2" data-x="3200" data-y="0"><h1 id="declarations"># D&#xE9;clarations</h1><pre class="highlight code c"><span class="cp">#define FOO 42          </span><span class="c1">// define, macros
</span><span class="cp">#include "stuff.h"      </span><span class="c1">// fichier du projet
</span><span class="cp">#include &lt;DmxSimple.h&gt;  </span><span class="c1">// lib
</span></pre><ul><li>&#xE9;valu&#xE9;es &#xE0; la compilation (et remplac&#xE9;s)</li></ul></div><div class="step" step="3" data-x="4800" data-y="0"><h1 id="setup">setup()</h1><pre class="highlight code c"><span class="kt">void</span> <span class="nf">setup</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// init ....
</span><span class="p">}</span></pre><p>Initialisation du programme</p><ul><li>d&#xE9;claration des entr&#xE9;e/sorties (E/S)</li><li>interruptions</li><li>variables globales</li><li>tout pour mettre en marche...</li></ul></div><div class="step" step="4" data-x="6400" data-y="0"><h1 id="loop">loop()</h1><pre class="highlight code c"><span class="kt">void</span> <span class="nf">loop</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// init ....
</span><span class="p">}</span></pre><p>Le programme en lui m&#xEA;me : fonction principale.</p><p>Elle boucle ind&#xE9;finiment....</p><pre class="highlight ">Pour toujours...
    loop()</pre></div><div class="step" step="5" data-x="8000" data-y="0"><h1 id="premier-programme">Premier programme</h1><pre class="highlight code c"><span class="kt">void</span> <span class="nf">setup</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// init...
</span><span class="p">}</span>

<span class="kt">void</span> <span class="nf">loop</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// programme...
</span><span class="p">}</span></pre><p>Un programme (inutile mais) fonctionnel...</p></div><div class="step" step="6" id="sect_sorties_num" data-y="1600" data-x="8000"><h1 id="sorties-numeriques">Sorties Num&#xE9;riques</h1><img src="imgs/sorties_num/ArduinoUno.jpg" alt="" width="600px" height=""></img></div><div class="step" step="7" data-y="1600" data-x="9600"><h1 id="pinmode">pinMode()</h1><p>Une broche peut &#xEA;tre en entr&#xE9;e ou sortie...</p><p>il faut choisir au d&#xE9;marrage du programme (<tt>setup()</tt>)</p><pre class="highlight code c"><span class="kt">void</span> <span class="nf">setup</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">pinMode</span><span class="p">(</span><span class="n">LED_BUILTIN</span><span class="p">,</span> <span class="n">OUTPUT</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">loop</span><span class="p">()</span> <span class="p">{}</span></pre></div><div class="step" step="8" data-x="11200" data-y="1600"><h1 id="constantes">Constantes</h1><p>Arduino propose des constantes</p><ul><li>modes<blockquote><ul><li><tt>OUTPUT</tt></li><li><tt>INPUT</tt></li><li><tt>INPUT_PULLUP</tt></li></ul></blockquote></li><li>niveaux<blockquote><ul><li><tt>HIGH</tt></li><li><tt>LOW</tt></li></ul></blockquote></li><li>des raccourcis...<blockquote><ul><li><tt>LED_BUILTIN</tt></li><li><tt>true</tt></li><li><tt>false</tt></li></ul></blockquote></li></ul></div><div class="step" step="9" data-x="12800" data-y="1600"><h1 id="allumer-une-led">Allumer une LED</h1><div class="notes"><p>lancer un bout d'exo pour allumer la LED</p></div></div><div class="step" step="10" data-x="14400" data-y="1600"><h1 id="soluce">Soluce :)</h1><pre class="highlight code c"><span class="kt">void</span> <span class="nf">setup</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">pinMode</span><span class="p">(</span><span class="n">LED_BUILTIN</span><span class="p">,</span> <span class="n">OUTPUT</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">loop</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">digitalWrite</span><span class="p">(</span><span class="n">LED_BUILTIN</span><span class="p">,</span> <span class="n">HIGH</span><span class="p">);</span>
<span class="p">}</span></pre></div><div class="step" step="11" data-x="16000" data-y="1600"><h1 id="pour-deux-instructions">Pour deux instructions...</h1><h2 id="digitalwrite">digitalWrite()</h2><ul><li>permet <em>"d'&#xE9;crire"</em> un niveau logique sur une sortie</li><li>active <span class="i">imm&#xE9;diatement</span> la sortie au niveau demand&#xE9;</li></ul><h2 id="delay-t">delay(t)</h2><ul><li>permet d'attendre un temps t... <span class="i">en millisecondes</span> !</li><li>pendant ce temps l&#xE0;, l'arduino ne fait <span class="i">rien d'autre</span> !</li></ul></div><div class="step" step="12" data-x="17600" data-y="1600"><h1 id="faire-clignoter-la-led">Faire clignoter la LED</h1><p>... le <em>hello world</em> en &#xE9;lectronique...</p><div class="notes"><p>encore un exo</p></div></div><div class="step" step="13" data-x="19200" data-y="1600"><h1 id="id1">Soluce :)</h1><pre class="highlight code c"><span class="cp">#define TEMPS 1000
</span>
<span class="kt">void</span> <span class="nf">setup</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">pinMode</span><span class="p">(</span><span class="n">LED_BUILTIN</span><span class="p">,</span> <span class="n">OUTPUT</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">loop</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">digitalWrite</span><span class="p">(</span><span class="n">LED_BUILTIN</span><span class="p">,</span> <span class="n">HIGH</span><span class="p">);</span>
    <span class="n">delay</span><span class="p">(</span><span class="n">TEMPS</span><span class="p">);</span>
<span class="p">}</span></pre></div><div class="step" step="14" data-y="3200" data-x="19200"><h1 id="boucles-simples">Boucles simples</h1></div><div class="step" step="15" data-y="3200" data-x="20800"><h1 id="while">While</h1><blockquote><p>Tant que je gagne, je joue ! &#x2015; Coluche</p></blockquote><pre class="highlight code c"><span class="k">while</span> <span class="p">(</span><span class="n">je</span> <span class="n">gagne</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// je joue
</span><span class="p">}</span>

<span class="c1">// -- Arduino</span></pre><ul><li>faire quelque chose tant qu'une condition est vraie...</li><li>ou infiniment si la condition est toujours vraie (<tt>true</tt>)</li></ul></div><div class="step" step="16" data-x="22400" data-y="3200"><h1 id="conditions">Conditions</h1><ul><li>Tout ce qui n'est pas 0 est vrai</li></ul><pre class="highlight code c"><span class="nb">true</span> <span class="o">||</span> <span class="nb">true</span> <span class="c1">// true
</span><span class="nb">true</span> <span class="o">||</span> <span class="nb">false</span> <span class="c1">// true
</span><span class="nb">false</span> <span class="o">||</span> <span class="nb">false</span> <span class="c1">// false
</span>
<span class="nb">true</span> <span class="o">&amp;&amp;</span> <span class="nb">true</span> <span class="c1">// true
</span><span class="nb">true</span> <span class="o">&amp;&amp;</span> <span class="nb">false</span> <span class="c1">// false
</span><span class="nb">false</span> <span class="o">&amp;&amp;</span> <span class="nb">false</span> <span class="c1">// false
</span>
<span class="o">!</span><span class="nb">true</span> <span class="c1">// false</span></pre><div class="notes"><p>distributif, communatif</p></div></div></div><div id="hovercraft-help" class="hide"><table><tr><th>Space</th><td>Forward</td></tr><tr><th>Right, Down, Page Down</th><td>Next slide</td></tr><tr><th>Left, Up, Page Up</th><td>Previous slide</td></tr><tr><th>P</th><td>Open presenter console</td></tr><tr><th>H</th><td>Toggle this help</td></tr></table></div><script type="text/javascript" src="js/impress.js"></script><script type="text/javascript" src="js/impressConsole.js"></script><script type="text/javascript" src="js/hovercraft.js"></script></body></html>